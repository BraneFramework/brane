# CONTAINER.yml
#   by Tim MÃ¼ller
#
# This file defines the packages necessary for the EPI project. The results themselves are quite dummy.
#


# Define the file metadata
name: epi
version: 1.0.0
kind: ecu

steps:
- dependencies:
  - python3
- files:
  - epi.sh

# Define the entrypoint: i.e., which file to call when the package function(s) are run
entrypoint:
  exec: epi.sh

# Define the functions in this package
actions:
  'local_compute':
    args:
    - local_compute
    # It takes the local dataset
    input:
    - type: Data
      name: input
    # It outputs the local result
    output:
      output:
        type: IntermediateResult
  'aggregate':
    args:
    - aggregate
    # It takes two datasets
    input:
    - type: IntermediateResult
      name: lhs
    - type: IntermediateResult
      name: rhs
    # It outputs the global result
    output:
      output:
        type: IntermediateResult
